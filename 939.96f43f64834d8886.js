"use strict";(self.webpackChunkmy_product_project=self.webpackChunkmy_product_project||[]).push([[939],{2939:(B,g,i)=>{i.r(g),i.d(g,{ProductListModule:()=>G});var d=i(9808),l=i(9516),p=i(6727);const h=(0,p.ZF)("product"),v=(0,p.P1)(h,e=>e.list),P=(0,p.P1)(h,e=>e.searchKeyword);var C=i(6408),T=i(275),m=i(1243),x=i(5778),M=i(13),t=i(5e3),S=i(520);let y=(()=>{class e{constructor(o){this.http=o,this.apiUrl="https://api.example.com/products"}getProducts(o){return this.http.get(this.apiUrl)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(S.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var f=i(1047),a=i(4182),Z=i(9856),L=i(5476);const A=["scrollContainer"];function J(e,r){1&e&&(t.TgZ(0,"span"),t._uU(1," \u2b50 "),t.qZA())}const O=function(){return[]};function F(e,r){if(1&e){const o=t.EpF();t.TgZ(0,"div",7)(1,"div",8),t.NdJ("click",function(){const c=t.CHM(o).$implicit;return t.oxw().addToCart(c)}),t._uU(2," \u2795 "),t.qZA(),t.TgZ(3,"div",9),t.NdJ("click",function(){const c=t.CHM(o).$implicit;return t.oxw().routerToDetail(c.id)}),t.TgZ(4,"h3"),t._uU(5),t.qZA(),t.TgZ(6,"p",10),t._uU(7),t.ALo(8,"number"),t.qZA()(),t.TgZ(9,"div",11),t.YNc(10,J,2,0,"span",12),t.qZA(),t._UZ(11,"ng-lottie",13),t.qZA()}if(2&e){const o=r.$implicit,n=t.oxw();t.xp6(5),t.Oqu(o.name),t.xp6(2),t.hij(" ",t.lcZ(8,4,o.price)," \u0111 "),t.xp6(3),t.Q6J("ngForOf",t.DdM(6,O).constructor(o.rating)),t.xp6(1),t.Q6J("options",n.options)}}const D=[{path:"list",component:(()=>{class e{constructor(o,n,s,c){this.store=o,this.productService=n,this.detechChange=s,this.router=c,this.products$=this.store.select(v),this.cartQuantity$=this.store.select(C.Xd),this.page=1,this.pageSize=10,this.loading=!1,this.value="",this.storedScrollTop=0,this.options={path:"/assets/shopping_cart.json"}}ngOnInit(){this.store.select(P).pipe((0,x.x)(),(0,M.b)(300)).subscribe(o=>{console.log("T\u1eeb kh\xf3a t\xecm ki\u1ebfm:",o),this.value=o,this.searchProduct()}),this.searchProduct()}ngAfterViewChecked(){this.storedScrollTop>0&&(console.log("t\xf4i scroll l\u1ea1i n\xe8 <3"),this.scrollContainer.nativeElement.scrollTop=this.storedScrollTop,this.storedScrollTop=0)}addToCart(o){this.store.dispatch(T.Xq({item:{productId:o.id,name:o.name,price:o.price}}))}searchProduct(){this.store.dispatch(m.UE({products:[{id:1,name:"iPhone 15 Pro Max",price:3499e4,rating:5},{id:2,name:"Samsung Galaxy S24 Ultra",price:2999e4,rating:5},{id:3,name:"MacBook Air M3",price:275e5,rating:4},{id:4,name:"Sony WH-1000XM5",price:65e5,rating:4},{id:5,name:"iPad Pro M2",price:2199e4,rating:5},{id:6,name:"Apple Watch Series 9",price:105e5,rating:4},{id:7,name:"Dell XPS 13 9315",price:24e6,rating:5},{id:8,name:"Logitech MX Master 3S",price:22e5,rating:4},{id:9,name:"AirPods Pro Gen 2",price:59e5,rating:4},{id:10,name:"Asus ROG Zephyrus G14",price:385e5,rating:4},{id:11,name:"Google Pixel 8 Pro",price:185e5,rating:4},{id:12,name:"B\xe0n ph\xedm c\u01a1 Keychron Q1",price:35e5,rating:4},{id:13,name:"M\xe0n h\xecnh LG DualUp",price:129e5,rating:4},{id:14,name:"Loa Marshall Stanmore III",price:92e5,rating:4},{id:15,name:"Kindle Paperwhite 5",price:38e5,rating:4},{id:16,name:"GoPro Hero 12",price:102e5,rating:4},{id:17,name:"S\u1ea1c d\u1ef1 ph\xf2ng Anker 737",price:28e5,rating:4},{id:18,name:"Nintendo Switch OLED",price:75e5,rating:4},{id:19,name:"\u1ed4 c\u1ee9ng SSD Samsung T7 1TB",price:25e5,rating:4},{id:20,name:"Chu\u1ed9t Gaming Razer DeathAdder V3",price:18e5,rating:4},{id:21,name:"M\xe1y t\xednh b\u1ea3ng Xiaomi Pad 6",price:89e5,rating:4},{id:22,name:"M\xe1y \u1ea3nh Fujifilm X-T5",price:42e6,rating:5}]}))}onNativeScroll(o){const n=o.target;n.scrollTop+n.clientHeight>=n.scrollHeight-100&&this.onScroll()}onScroll(){this.store.dispatch(m.q3({products:[{id:23,name:"nang am xa dan",price:25e6,rating:5},{id:24,name:"con mua ngang qua",price:22e6,rating:5}]})),this.detechChange.detectChanges()}routerToDetail(o){this.storedScrollTop=this.scrollContainer.nativeElement.scrollTop,this.router.navigate(["/product/detail",o])}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(p.yh),t.Y36(y),t.Y36(t.sBO),t.Y36(l.F0))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-list"]],viewQuery:function(o,n){if(1&o&&t.Gf(A,5),2&o){let s;t.iGM(s=t.CRH())&&(n.scrollContainer=s.first)}},decls:10,vars:7,consts:[[1,"py-1","px-2","overflow-hidden"],[1,"header"],["id","search","nz-input","","placeholder","Basic usage",3,"ngModel","ngModelChange"],["infiniteScroll","",1,"product-wrapper",3,"infiniteScrollDistance","infiniteScrollThrottle","scrollWindow","scroll"],["scrollContainer",""],[1,"product-list"],["class","product-card",4,"ngFor","ngForOf"],[1,"product-card"],[1,"add-btn",3,"click"],[1,"d-flex","justify-content-center","align-items-start","flex-column","p-2",3,"click"],[1,"price"],[1,"rating"],[4,"ngFor","ngForOf"],["height","300px","width","300px",3,"options"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"header",1)(2,"h2"),t._uU(3,"S\u1ea3n ph\u1ea9m"),t.qZA()(),t.TgZ(4,"input",2),t.NdJ("ngModelChange",function(c){return n.value=c}),t.qZA(),t.TgZ(5,"div",3,4),t.NdJ("scroll",function(c){return n.onNativeScroll(c)}),t.TgZ(7,"div",5),t.YNc(8,F,12,7,"div",6),t.ALo(9,"async"),t.qZA()()()),2&o&&(t.xp6(4),t.Q6J("ngModel",n.value),t.xp6(1),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",200)("scrollWindow",!1),t.xp6(3),t.Q6J("ngForOf",t.lcZ(9,5,n.products$)))},directives:[f.Zp,a.Fj,a.JJ,a.On,Z.R,d.sg,L.e$],pipes:[d.Ov,d.JJ],styles:[".product-wrapper[_ngcontent-%COMP%]{overflow-y:scroll;height:70vh;padding:10px}.product-list[_ngcontent-%COMP%]{display:grid!important;grid-template-columns:repeat(3,1fr);height:600px;grid-gap:20px;gap:20px}.product-card[_ngcontent-%COMP%]{position:relative;border:1px solid #ddd;padding:12px;border-radius:8px;background:#fff}.add-btn[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px;cursor:pointer;font-size:18px}.price[_ngcontent-%COMP%]{color:#e53935;font-weight:700}.rating[_ngcontent-%COMP%]{color:#ffc107}"]}),e})(),data:{shouldReuse:!0}},{path:"detail/:id",component:(()=>{class e{constructor(){this.value=""}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-detail"]],decls:5,vars:1,consts:[["nz-input","","placeholder","Basic usage",3,"ngModel","ngModelChange"],["routerLink","/product/list",1,"btn","btn-primary"]],template:function(o,n){1&o&&(t.TgZ(0,"p"),t._uU(1,"product-detail works!"),t.qZA(),t.TgZ(2,"input",0),t.NdJ("ngModelChange",function(c){return n.value=c}),t.qZA(),t.TgZ(3,"button",1),t._uU(4," Go to Product List\n"),t.qZA()),2&o&&(t.xp6(2),t.Q6J("ngModel",n.value))},directives:[f.Zp,a.Fj,a.JJ,a.On,l.rH],styles:[""]}),e})(),data:{shouldReuse:!1}}];let U=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[l.Bz.forChild(D)],l.Bz]}),e})();var z=i(6911);let G=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[d.ez,U,z.m]]}),e})()}}]);